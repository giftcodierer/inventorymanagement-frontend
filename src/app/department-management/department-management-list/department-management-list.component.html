<div class="table-container">
  <div class="header">
    <h2>Abteilungen</h2>
    <button (click)="onCreate()">Abteilung erstellen</button>
  </div>
  <p-table [value]="departments" selectionMode="multiple" [(selection)]="selectedDepartments" [paginator]="true" [rows]="10" [sortField]="'name'" [sortOrder]="1" [contextMenu]="cm" [(contextMenuSelection)]="selectedDepartment" [ngStyle]="{'height': 'calc(80vh - 100px)', 'width': '80vw'}">
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 3em">
          <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
        </th>
        <th pSortableColumn="name" style="width: 33%">Name <p-sortIcon field="name"></p-sortIcon></th>
        <th pSortableColumn="location" style="width: 33%">Standort <p-sortIcon field="location"></p-sortIcon></th>
        <th style="width: 33%">Aktionen</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-department>
      <tr [pContextMenuRow]="department">
        <td style="width: 3em">
          <p-tableCheckbox [value]="department"></p-tableCheckbox>
        </td>
        <td style="width: 33%">{{ department.name }}</td>
        <td style="width: 33%">{{ department.location }}</td>
        <td style="width: 33%">
          <button pButton class="p-button-rounded p-button-text custom-button" (click)="onDetails(department)">
            <i class="pi pi-pencil"></i>
          </button>
          <button pButton class="p-button-rounded p-button-text custom-button" (click)="onCopy(department)">
            <i class="pi pi-copy"></i>
          </button>
          <button pButton class="p-button-rounded p-button-text custom-button-danger" (click)="onDelete(department)">
            <i class="pi pi-trash"></i>
          </button>
        </td>
      </tr>
    </ng-template>
  </p-table>
  <p-contextMenu #cm [model]="menuItems"></p-contextMenu>
</div>